<div class="clearfix">
  <div ng-controller="mainCtrl">

    <h1>Welcome, {{username}}!</h1>
    <br/>
    <h3>Broadcasts</h3>

    <!-- Open Broadcasts -->
    <div class="row">
	    <div class="col-md-2">
	    	<p>Open Broadasts</p>
		    <ul ng-show="openBroadcasts" class="nav nav-pills nav-stacked">
		    	<li ng-repeat="oB in openBroadcasts | orderBy:'created_at':true" ng-class="{active: oB._id == selected.broadcast._id}">
		    		<a href="" ng-click="select(oB)">{{oB.title}}</a>
		    	</li>
		    </ul>
		    <br/>
		    <p>Filled Broadcasts</p>
		    <ul ng-show="filledBroadcasts" class="nav nav-pills nav-stacked">
		    <li ng-repeat="fB in filledBroadcasts | orderBy:'created_at':true" ng-class="{active: fB._id == selected.broadcast._id}">
		    		<a href="" ng-click="select(fB)">{{fB.title}}</a>
		    	</li>
		    </ul>

		    <br/>
		    <p>Archived Broadcasts</p>
	    </div>

	    <div class="col-md-8 col-md-offset-1" ng-show="selected">
        
	        <h2>{{selected.broadcast.title}}</h2>
	        <p>Remaining Open Positions:  {{selected.broadcast.openPositions}}</p>
	        <br/>
	        <table class="table table-striped table-bordered">
	        	<thead>
			        <tr>
			            <th>Name</th>
			            <th>Status</th>
			            <th>Accept</th>
			            <th>Decline</th>
			            <th>Date</th>
			        </tr>
		        </thead>
		        <tbody>
		            <tr ng-repeat="t in selected.threads | orderBy: 'firstName'">
			            <td>{{t.firstName}}</td>
			            <td>{{t.status}}</td>
			            <td>
			            	<button class="btn btn-primary" ng-disabled="t.status == 'Pending' || t.status == 'Confirmed' || t.status == 'Accepted' || t.status == 'Reopened'" ng-click="ownerResponse(1, t)"><span class="glyphicon glyphicon-ok"></span></button>
			            </td>
			            <td>
			            	<button class="btn btn-danger" ng-disabled="t.status == 'Declined' || t.status == 'Recipient Cancelled' || t.status == 'Owner Cancelled'" ng-click="ownerResponse(0, t)"><span class="glyphicon glyphicon-remove"></button>
			            </td>
			            <td>{{t.created_at}}</td>
		            </tr>
		        </tbody>
	        </table>
	    
	    </div>
    
    </div> <!-- End Row -->
   

  </div>

</div>

